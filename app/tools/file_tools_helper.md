# README — MCP 파일 툴 & 파일 매니저 (초간단)

> 코드 상세 설명은 생략하고, “무슨 기능인지 / 언제 쓰면 좋은지”만 정리했습니다.  
> 그대로 마크다운에 붙여 넣어 쓰세요.

---

## 서버에 등록되는 MCP 툴

### `file-listdir`
- **무슨 기능?** 지정한 경로 하위의 파일·폴더 목록을 반환. `glob` 패턴(`*.pptx` 등) 필터링 가능.
- **언제 쓰나?** 폴더 내용을 빠르게 훑어보고 싶을 때, 확장자/패턴으로 걸러보고 싶을 때.

### `file-list-candidates`
- **무슨 기능?** 폴더에 파일이 **임계값 이하(기본 100)**면 **전부** 반환, 초과하면 **퍼지 매칭 Top-K**만 반환(LLM이 최종 선택).
- **언제 쓰나?** 폴더가 너무 커서 전수 탐색이 비효율적일 때, 정확한 파일명이 기억나지 않을 때.

### `file-read-text`
- **무슨 기능?** `PDF / PPTX / DOCX / TXT / MD`에서 텍스트 추출. 청크(슬라이딩) 분할 지원. 경로가 틀려도 **퍼지 복구**로 근접 파일 자동 대체 가능.
- **언제 쓰나?** 실제 내용을 읽어 요약·검색·질의응답에 쓰고 싶을 때, 파일명을 대충 넣었을 때.

### (옵션) `file-find-folder`, `file-find-file`
- **무슨 기능?** 폴더/파일명을 퍼지 매칭으로 찾아 Top-K 후보 반환(레거시 호환용).
- **언제 쓰나?** 정확한 경로를 모를 때 빠르게 후보만 받고 싶을 때.

---

## 내부 파일 매니저(클래스)

### `MultiBaseFileManager`
- **무슨 기능?** 여러 “허용 루트(샌드박스)” 안에서 안전한 경로 처리, 디렉터리 나열, 퍼지 후보 찾기, 그리고 **PDF/PPTX/DOCX/TXT/MD 텍스트 추출**(캐시/청크 포함) 제공.
- **언제 쓰나?** MCP 툴에서 파일 접근을 **안전하고 일관된 방식**으로 처리하고 싶을 때.

---

## 추천 사용 흐름 (짧게)

1. 폴더 규모 파악 → **`file-listdir`** (필요 시 패턴 필터)
2. 파일이 매우 많다 → **`file-list-candidates`** 로 전부/Top-K 후보 받기
3. 최종 선택한 파일 → **`file-read-text`** 로 텍스트 추출(오타면 퍼지 복구 도움)

---

## 지원 포맷 (텍스트 추출)
`PDF`, `PPTX`, `DOCX`, `TXT`, `MD`

---

## 한 줄 요약
- **탐색**: `file-listdir` / `file-list-candidates`  
- **읽기**: `file-read-text`  
- **안전·퍼지·청크·캐시**: `MultiBaseFileManager` 담당
